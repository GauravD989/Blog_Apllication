{% extends 'base2.html' %}
{% load static %}

{% block title %}
Dashboard
{% endblock title %}

{% block content %}

<!-- Add these lines to include Bootstrap and jQuery scripts -->
{% comment %} 
} {% endcomment %}

<style>

  .card-body {
    height: 150px;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .container-fluid {
    width: 100%;
    padding-right: 15px;
    padding-left: 15px;
    margin-right: auto;
    margin-left: auto;
}

.row {
  display: flex;
  flex-wrap: wrap;
  margin-right: -15px;
  margin-left: -15px;
}

.sidebar {
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  z-index: 100;
  padding: 0;
  box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
}

.sidebar-sticky {
  position: sticky;
  top: 48px;
  height: calc(100vh - 48px);
  padding-top: 0.5rem;
  overflow-x: hidden;
  overflow-y: auto;
}

.flex-column {
  -webkit-box-orient: vertical!important;
  -webkit-box-direction: normal!important;
  flex-direction: column!important;
}

.sidebar .nav-link {
  font-weight: 500;
  color: #333;
}

.dashboard-bg {
  background: linear-gradient(to bottom, #8d8f91, #626464);
}
.clickable-link {
  cursor: pointer;
}



</style>
{% endblock content %}

{% block body %}

<div class="container-fluid">
  <div class="row">
    <nav class="col-md-2 d-none d-md-block bg-light sidebar">
      <div class="sidebar-sticky">
        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link active" href="{% url 'dashboard' %}">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
              Dashboard <span class="sr-only">(current)</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'my-blogs' %}">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>
              My Blogs
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'my-categories' %}">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-shopping-cart"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>
              My Categories
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'my_deleted_blogs' %}">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
              My Deleted Blogs
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bar-chart-2"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>
              My Tags (Coming Soon)
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/logout/">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-layers"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg>
              <strong>Signout</strong>
            </a>
          </li>
        </ul>

      </div>
    </nav>

    <main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4"><div class="chartjs-size-monitor" style="position: absolute; inset: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;"><div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="chartjs-size-monitor-shrink" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div></div>
      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
        <h1 class="h2">Dashboard</h1>
        <div class="btn-toolbar mb-2 mb-md-0">
          <div class="btn-group mr-2">
            <button class="btn btn-sm btn-outline-secondary">
              <a class="nav-link" href="{% url 'home' %}">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                Home
              </a>
            </button>
          </div>
  
        </div> 
      </div>

      <h1>Welcome {{ user.username }}</h1>
      <p class="lead mb-4">All systems are running smoothly!</p>

      <div style="display:flex;">
        <div class="col-md-5">
          <img width="1522" height="642" style="display: block; height: 350px; width: 5000px;" src="https://images.unsplash.com/photo-1432888498266-38ffec3eaf0a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2074&q=80" alt="..." class="img-thumbnail">
        </div>
        <div class="col-md-7" style="display:flex;">
          <div class="col-md-6 grid-margin transparent">
            <div class="row">
              <div class="col-md-9 mb-5 stretch-card transparent">
                <a href="{% url 'my-blogs' %}" class="clickable-link">
                  <div class="card card-tale dashboard-bg">
                    <div class="card-body">
                      <p class="mb-2 text-white">My Total Posts:</p>
                      <p class="fs-40 mb-0 text-white"><b>{{ user_posts.count }}</b></p>
                    </div>
                  </div>
                </a>
              </div>
              <div class="col-md-9 mb-5 stretch-card transparent">
                <a href="{% url 'my-categories' %}" class="clickable-link">
                  <div class="card card-dark-blue dashboard-bg">
                    <div class="card-body">
                      <p class="mb-2 text-white">My Total Category:</p>
                      <p class="fs-30 mb-0 text-white"><b>{{ count_user_categories }}</b></p>
                    </div>
                  </div>
                </a>
              </div>
            </div>
          </div>
          </div>
        </div>
      </div>

      
    </main>
  </div>
</div>

{% comment %} <div class="container-fluid">
  <div class="row">
    <div class="col-md-3">
      <ul class="list-group">
        <li class="list-group-item active">Dashboard</li>
        <li class="list-group-item"><a href="{% url 'my-blogs' %}" class="clickable-link">My Blogs</a></li>
        <li class="list-group-item"><a href="{% url 'my-categories' %}" class="clickable-link">My Categories</a></li>

        <li class="list-group-item"><a href="{% url 'my_deleted_blogs' %}" class="clickable-link">My Deleted Blogs</a></li>
        
        <li class="list-group-item"><a href="#" class="clickable-link">My Tags (Coming Soon)</a></li>
    
        <li class="list-group-item"><a href="/logout/" class="clickable-link"><strong>Signout</strong></a></li>
      </ul>
    </div>
    <div class="col-md-9">
      <h1>Welcome {{ user.username }}</h1>
      <p class="lead mb-4">All systems are running smoothly!</p>

      <div class="col-md-6 grid-margin transparent">
        <div class="row">
          <div class="col-md-6 mb-4 stretch-card transparent">
            <a href="{% url 'my-blogs' %}" class="clickable-link">
              <div class="card card-tale dashboard-bg">
                <div class="card-body">
                  <p class="mb-2 text-white">My Total Posts:</p>
                  <p class="fs-30 mb-0 text-white">{{ user_posts.count }}</p>
                </div>
              </div>
            </a>
          </div>
          <div class="col-md-6 mb-4 stretch-card transparent">
            <a href="{% url 'home' %}" class="clickable-link">
              <div class="card card-dark-blue dashboard-bg">
                <div class="card-body">
                  <p class="mb-2 text-white">Total Posts from All Users:</p>
                  <p class="fs-30 mb-0 text-white">{{ total_posts }}</p>
                </div>
              </div>
            </a>
          </div>
          <div class="col-md-6 mb-4 stretch-card transparent">
            <a href="{% url 'home' %}" class="clickable-link">
              <div class="card card-dark-blue dashboard-bg">
                <div class="card-body">
                  <p class="mb-2 text-white">My Category:</p>
                  <p class="fs-30 mb-0 text-white">{{ count_user_categories }}</p>
                </div>
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> {% endcomment %}
{% endblock body %}
